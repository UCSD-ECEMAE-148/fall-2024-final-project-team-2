<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-gps/gps" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">GPS with PointOneNav and DonkeyCar | Final Project Team 2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ucsd-ecemae-148.github.io/fall-2024-final-project-team-2/img/logo-small.png"><meta data-rh="true" name="twitter:image" content="https://ucsd-ecemae-148.github.io/fall-2024-final-project-team-2/img/logo-small.png"><meta data-rh="true" property="og:url" content="https://ucsd-ecemae-148.github.io/fall-2024-final-project-team-2/docs/gps"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="backend,developer,engineer,grpc,rest,docker,kubernetes,devops,open-source"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GPS with PointOneNav and DonkeyCar | Final Project Team 2"><meta data-rh="true" name="description" content="We did an assignment with the Jetson Nano, using GPS and PID tuning to autonomously control the car, given a recorded path. This assignment took by far the longest, taking us two weeks and can be attributed to a few core issues."><meta data-rh="true" property="og:description" content="We did an assignment with the Jetson Nano, using GPS and PID tuning to autonomously control the car, given a recorded path. This assignment took by far the longest, taking us two weeks and can be attributed to a few core issues."><link data-rh="true" rel="icon" href="/fall-2024-final-project-team-2/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ucsd-ecemae-148.github.io/fall-2024-final-project-team-2/docs/gps"><link data-rh="true" rel="alternate" href="https://ucsd-ecemae-148.github.io/fall-2024-final-project-team-2/docs/gps" hreflang="en"><link data-rh="true" rel="alternate" href="https://ucsd-ecemae-148.github.io/fall-2024-final-project-team-2/docs/gps" hreflang="x-default"><link rel="stylesheet" href="/fall-2024-final-project-team-2/assets/css/styles.f0cd3457.css">
<script src="/fall-2024-final-project-team-2/assets/js/runtime~main.53995a19.js" defer="defer"></script>
<script src="/fall-2024-final-project-team-2/assets/js/main.7e716269.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_gu5v" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fall-2024-final-project-team-2/"><div class="navbar__logo"><img src="/fall-2024-final-project-team-2/img/logo.jpg" alt="El Cochito" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fall-2024-final-project-team-2/img/logo.jpg" alt="El Cochito" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Team 2, El Cochito</b></a><a class="navbar__item navbar__link" href="/fall-2024-final-project-team-2/projects">Projects</a><a class="navbar__item navbar__link" href="/fall-2024-final-project-team-2/docs/details">Details</a></div><div class="navbar__items navbar__items--right"><div class="toggle_kWbt colorModeToggle_GwZs"><button class="clean-btn toggleButton_fOL9 toggleButtonDisabled_STpu" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_DCeJ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_DFgp"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_IP3a"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_IbdI"><div class="docsWrapper_JGIH"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_SdI4" type="button"></button><div class="docRoot_eRbX"><aside class="theme-doc-sidebar-container docSidebarContainer_Ta75"><div class="sidebarViewport_fgog"><div class="sidebar_oDHW"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_vPEQ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fall-2024-final-project-team-2/docs/details">General Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fall-2024-final-project-team-2/docs/setup">Mechanics and Electronics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fall-2024-final-project-team-2/docs/deep-learning">Deep Learning with DonkeyCar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/fall-2024-final-project-team-2/docs/gps">GPS with PointOneNav and DonkeyCar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fall-2024-final-project-team-2/docs/lane-tracking">Lane Tracking with ROS2 and OpenCV2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fall-2024-final-project-team-2/docs/roboflow">Roboflow with OAKD-Lite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fall-2024-final-project-team-2/docs/remember">Retrieval-augmented Memory for Embodied Robots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fall-2024-final-project-team-2/docs/human-pose">Human Pose Estimation</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_Cq4q"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_eHqP"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_lg0V"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_nDJs"><div class="docItemContainer_OGiL"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_k3Z9" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/fall-2024-final-project-team-2/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JACu"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">GPS with PointOneNav and DonkeyCar</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_QCOD theme-doc-toc-mobile tocMobile_N0YI"><button type="button" class="clean-btn tocCollapsibleButton_pHwF">On this page</button></div><div class="theme-doc-markdown markdown"><h1>GPS with PointOneNav and DonkeyCar</h1>
<p>We did an assignment with the Jetson Nano, using GPS and PID tuning to autonomously control the car, given a recorded path. This assignment took by far the longest, taking us two weeks and can be attributed to a few core issues.</p>
<p>The first issue was latency. We first started out with the PointOneNav GNSS, but we saw that there was a 5 second latency when communicating between the basestation and our jetson nano. We then swapped it out for a Ublox, which also gave the same latency error.
We returned back to PointOneNav and got our PID tuned such that our car was now autonomous.</p>
<p>It was also on this assignment that we realized our shocks were causing our car to tilt heavily towards one side. This caused difficulty in finding our PID solution as the car naturally tilted towards one side.</p>
<h2 class="anchor anchorWithStickyNavbar_FNw8" id="gps-configuration">GPS Configuration<a href="#gps-configuration" class="hash-link" aria-label="Direct link to GPS Configuration" title="Direct link to GPS Configuration">​</a></h2>
<p>Both GNSS uses the DonkeyCar framework, and nothing is different within the configuration of the DonkeyCar framework between them. The only difference is in setting up the boilerplate for communicating with DonkeyCar.</p>
<div class="tabs-container tabList_fbd4"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_v5XY tabs__item--active">PointOneNav</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_v5XY">Ublox</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem__kUE"><p>On the Jetson Nano, we created a new user to the dialout group which has full access to serial ports. This is necessary as information flows in and out of the serial ports.</p><p>We then installed proprietary software that bridged the PointOneNav hardware to the DonkeyCar framework. Unfortunately, since it is class software, we cannot share it.
The following commands can then be ran</p><div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">wget https://github.com/conda-forge/miniforge/releases/latest/download/Mambaforge-pypy3-Linux-aarch64.sh .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bash Mambaforge-pypy3-Linux-aarch64.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo reboot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mamba create --name py37 -c conda-forge python=3.7 pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mamba activate py37</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install -e .    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install pyserial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install fusion_engine_client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install pynmea</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install ntripstreams</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install websockets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 bin/config_tool.py reset factory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 bin/config_tool.py apply uart2_message_rate nmea gga on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 bin/config_tool.py save</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 bin/runner.py --device-id &lt;polaris_username&gt; --polaris &lt;polaris_password&gt; --device-port /dev/ttyUSB1</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Polaris is the basestation we&#x27;re connecting to.  We set up a script file for the last line which starts a connection with the basestation with the 7 different credentials we were given. This allowed us to run one script file with an argument of which credential to use instead of having to manually enter the credentials.</p><div class="theme-admonition theme-admonition-note admonition_LMjb alert alert--secondary"><div class="admonitionHeading_GGQ4"><span class="admonitionIcon_ifdW"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_pGk6"><p>The PointOneNav requires this basetation to be running in a terminal. This means we need two terminals for this configuration.</p></div></div></div><div role="tabpanel" class="tabItem__kUE" hidden=""><p>You don&#x27;t need anything to run Ublox as DonkeyCar supports Ublox.</p><div style="display:flex;justify-content:center;align-items:center"><img src="https://media1.tenor.com/m/tCL3HGcaV4UAAAAd/raccoon-dance.gif" alt="Raccoon Dancing"></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_FNw8" id="running-our-car">Running our car<a href="#running-our-car" class="hash-link" aria-label="Direct link to Running our car" title="Direct link to Running our car">​</a></h2>
<p>On another terminal, we sourced our virtual environment and created our GPS donkeycar folder.</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">donkey createcar --path ./mycar --template path_follow</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The configuration file must have these changes in addition to the VESC configurations we set for DonkeyCar Simulator.</p>
<div class="language-py codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-py codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">GPS_SERIAL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> “</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dev</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">ttyUSB2” </span><span class="token comment" style="color:#999988;font-style:italic"># (USB1 if USB0 used above)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GPS_SERIAL_BAUDRATE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">460800</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># GPS_SERIAL = “/dev/ttyUSB0” # For Ublox</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># GPS_SERIAL_BAUDRATE = 38400 # For Ublox</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GPS_DEBUG </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HAVE_GPS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GPS_NMEA_PATH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The configurations below are customizable but are included to showcase the full setup. The settings below are the button mapout for our Logitech F710 controller.</p>
<div class="language-py codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-py codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">SAVE_PATH_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;R1&quot;</span><span class="token plain">    	  </span><span class="token comment" style="color:#999988;font-style:italic"># button to save path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOAD_PATH_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;X&quot;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic"># button (re)load path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RESET_ORIGIN_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;B&quot;</span><span class="token plain"> 	    </span><span class="token comment" style="color:#999988;font-style:italic"># button to press to move car back to origin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ERASE_PATH_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Y&quot;</span><span class="token plain"> 	      </span><span class="token comment" style="color:#999988;font-style:italic"># button to erase path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TOGGLE_RECORDING_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;L1&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># button to toggle recording mode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INC_PID_D_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># button to change PID &#x27;D&#x27; constant by PID_D_DELTA</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEC_PID_D_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># button to change PID &#x27;D&#x27; constant by -PID_D_DELTA</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INC_PID_P_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;None&quot;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># button to change PID &#x27;P&#x27; constant by PID_P_DELTA</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEC_PID_P_BTN </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;None&quot;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># button to change PID &#x27;P&#x27; constant by -PID_P_DELTA</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can then run the same command used to run the DonkeyCar simulator.</p>
<div class="language-bash codeBlockContainer_aalF theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_MHx8"><pre tabindex="0" class="prism-code language-bash codeBlock_zHgq thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_RjmQ"><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py drive</span><br></span></code></pre><div class="buttonGroup_Sd8_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_LnQD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_t3l1"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IiZV"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The recorded path will look like follows.</p>
<img src="/fall-2024-final-project-team-2/assets/ideal-img/gps.fee095b.500.png" width="960" height="240" alt="GPS Photo">
<h2 class="anchor anchorWithStickyNavbar_FNw8" id="pid-tuning">PID Tuning<a href="#pid-tuning" class="hash-link" aria-label="Direct link to PID Tuning" title="Direct link to PID Tuning">​</a></h2>
<p>This part took an entire two weeks alongside our hardware troubles. I can now see why people made better control algorithms. We won&#x27;t give access to our PID tuning since this class will continue even after ours.
If PID tuning is proper, you should be able to autonomously drive a path like ours below. We doubled the playback speed to cut time.</p>
<iframe width="960" height="520" src="https://www.youtube.com/embed/9pHh7QOPzno" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="GPS Video"></iframe></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_aHIs padding--none margin-left--sm"><li class="tag_nwHU"><a class="tag_QDqo tagRegular_RTiO" href="/fall-2024-final-project-team-2/docs/tags/gps">GPS</a></li><li class="tag_nwHU"><a class="tag_QDqo tagRegular_RTiO" href="/fall-2024-final-project-team-2/docs/tags/point-one-nav">PointOneNav</a></li><li class="tag_nwHU"><a class="tag_QDqo tagRegular_RTiO" href="/fall-2024-final-project-team-2/docs/tags/donkey-car">DonkeyCar</a></li><li class="tag_nwHU"><a class="tag_QDqo tagRegular_RTiO" href="/fall-2024-final-project-team-2/docs/tags/controls">Controls</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated__GQF"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-12-07T08:00:00.000Z">Dec 7, 2024</time></b> by <b>Kevin Shin</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/fall-2024-final-project-team-2/docs/deep-learning"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deep Learning with DonkeyCar</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fall-2024-final-project-team-2/docs/lane-tracking"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lane Tracking with ROS2 and OpenCV2</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_IS5x thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gps-configuration" class="table-of-contents__link toc-highlight">GPS Configuration</a></li><li><a href="#running-our-car" class="table-of-contents__link toc-highlight">Running our car</a></li><li><a href="#pid-tuning" class="table-of-contents__link toc-highlight">PID Tuning</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://triton-ai.eng.ucsd.edu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TritonAI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_T11m"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/UCSD-ECEMAE-148" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_T11m"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        © 2024 - +2024 Kevin Shin, Built with Docusaurus.
      </div></div></div></footer></div>
</body>
</html>